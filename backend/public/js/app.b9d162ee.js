(function(e){function t(t){for(var r,a,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)a=o[d],s[a]&&p.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0079":function(e,t,n){"use strict";var r=n("ddff"),s=n.n(r);s.a},"038c":function(e,t,n){},"055c":function(e,t,n){},"0c2f":function(e,t,n){},"0d3a":function(e,t,n){"use strict";var r=n("de21"),s=n.n(r);s.a},"0fb2":function(e,t,n){"use strict";var r=n("982a"),s=n.n(r);s.a},1:function(e,t){},"12b8":function(e,t,n){"use strict";var r=n("0c2f"),s=n.n(r);s.a},"138f":function(e,t,n){"use strict";var r=n("a160"),s=n.n(r);s.a},"1b08":function(e,t,n){"use strict";var r=n("88a7"),s=n.n(r);s.a},"250e":function(e,t,n){},"26df":function(e,t,n){e.exports=n.p+"img/not.07c32c7d.jpg"},"2fa2":function(e,t,n){"use strict";var r=n("3974"),s=n.n(r);s.a},3171:function(e,t,n){},3517:function(e,t,n){},3613:function(e,t,n){e.exports=n.p+"img/1.744b33a3.jpg"},3974:function(e,t,n){},4547:function(e,t,n){"use strict";var r=n("250e"),s=n.n(r);s.a},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=n("bb71"),i=n("c0a4"),a=n.n(i);n("da64");r["a"].use(s["a"],{iconfont:"md",theme:{primary:a.a.blue,secondary:a.a.grey,accent:a.a.shades.black,error:a.a.red.accent3}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[e.showNav?n("app-header"):e._e(),n("router-view",{on:{homepage:e.toggleNav}}),n("app-footer")],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("v-layout",{staticClass:"app-header"},[n("v-container",{staticClass:"flex hamburger-container",class:{trans:e.isScroll}},[n("v-toolbar-side-icon",{attrs:{flat:"",color:"blue-grey darken-4"},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("div",{staticClass:" flex logo"},[n("router-link",{attrs:{to:"/"}},[n("h1",{staticClass:"sensations"},[e._v("MeeTravel")])])],1),n("v-spacer"),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({class:e.classByUnread,attrs:{flat:"",color:"blue-grey darken-4"}},r),[n("v-icon",[e._v("notifications")]),e._v("("+e._s(e.unread)+")")],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("user-notifications")],1)],1),n("v-navigation-drawer",{staticClass:"nav-container",attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{staticClass:"pa-1"},[null!==e.username?n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.imgProfile}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(e.username))])],1)],1):e._e()],1),n("v-list",{staticClass:"pt-0",attrs:{dense:""}},[n("v-divider"),e.username?n("button",{staticClass:"px-5 py-2",class:e.classByUnread,on:{click:function(t){return t.stopPropagation(),e.toggleShowNotifications(t)}}},[e._v("Notifications ("+e._s(e.unread)+")")]):e._e(),e.showNotifications?n("user-notifications"):e._e(),e._l(e.items,function(t){return n("v-list-tile",{key:t.title,staticClass:"nav-item"},[n("router-link",{attrs:{to:t.link}},[n("v-list-tile-content",[n("v-list-tile-title",[n("v-icon",{attrs:{color:"blue-grey darken-4",left:""}},[e._v(e._s(t.icon))]),e._v("\n                "+e._s(t.title)+"\n              ")],1)],1)],1)],1)}),n("v-list-tile",{staticClass:"nav-item"},[n("router-link",{attrs:{to:"/signup"}},[n("v-list-tile-content",{on:{click:e.doLogOut}},[n("v-list-tile-title",[n("v-icon",{attrs:{color:"blue-grey darken-4",left:""}},[e._v("person")]),e._v("LogOut\n              ")],1)],1)],1)],1)],2)],1)],1),null!==e.newNotification?n("new-notification",{attrs:{newNotification:e.newNotification}}):e._e()],1)},l=[],d=(n("7f7f"),n("ac6a"),n("456d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")}),p=[],f=(n("2a97"),{props:["newNotification"],created:function(){var e=this;"request"===this.newNotification.type?this.$noty.info(this.newNotification.message):"friendship"===this.newNotification.type&&this.$noty.success(this.newNotification.message),setTimeout(function(){e.$store.dispatch({type:"clearNewNotification"})},1e3)}}),h=f,m=n("2877"),g=Object(m["a"])(h,d,p,!1,null,null,null),v=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.notifications,function(t,r){return n("v-card",{key:(t||{}).timestamp,on:{click:function(t){return e.readNofitication(r)}}},[n("v-list",[n("v-list-tile",[n("v-btn",{staticClass:"icons",class:e.fav?"blue--text":"",attrs:{icon:""},on:{click:function(t){e.fav=!e.fav}}},[n("v-icon",[e._v("supervised_user_circle")]),t.readStatus?n("v-icon",{staticClass:"envelope"},[e._v("drafts")]):n("v-icon",{staticClass:"envelope"},[e._v("markunread")])],1),"friendship"===t.type?n("router-link",{attrs:{title:"To friends inbox",to:"/inbox/friends"}},[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.message))]),n("v-list-tile-sub-title",[e._v(" ("+e._s(e._f("timeAgo")(t.timestamp))+")\n          ")])],1)],1):e._e(),"request"===t.type?n("router-link",{attrs:{title:"To requests inbox",to:"/inbox/requests"}},[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.message))]),n("v-list-tile-sub-title",[e._v(" ("+e._s(e._f("timeAgo")(t.timestamp))+")\n          ")])],1)],1):e._e()],1)],1),n("v-divider")],1)}),1)},y=[],x={data:function(){return{fav:!0,message:!1,hints:!0}},computed:{notifications:function(){return this.$store.getters.notifications}},methods:{readNofitication:function(e){this.$store.dispatch({type:"readNotification",index:e})}}},w=x,_=(n("4547"),n("6544")),j=n.n(_),k=n("8336"),C=n("b0af"),I=n("ce7e"),R=n("132d"),U=n("8860"),$=n("ba95"),O=n("5d23"),q=Object(m["a"])(w,b,y,!1,null,"512004b6",null),N=q.exports;j()(q,{VBtn:k["a"],VCard:C["a"],VDivider:I["a"],VIcon:R["a"],VList:U["a"],VListTile:$["a"],VListTileContent:O["a"],VListTileSubTitle:O["b"],VListTileTitle:O["c"]});var S={data:function(){return{menu:!1,header:300,isScroll:!1,drawer:null,width:300,items:[{icon:"home",title:"Home",link:"/"},{icon:"location_on",title:"Find Nearby",link:"/user"},{icon:"account_circle",title:"Edit Profile",link:"/profile"},{icon:"inbox",title:"Inbox",link:"/inbox/friends"},{icon:"info",title:"About",link:"/about"},{icon:"insert_chart_outlined",title:"Admin",link:"/admin"},{icon:"person",title:"Login",link:"/login"},{icon:"person",title:"Signup",link:"/signup"}],showNotifications:!1}},methods:{getCurrentScroll:function(){return window.pageYOffset||document.documentElement.scrollTop},doLogOut:function(){this.$store.dispatch({type:"logout"})},toggleShowNotifications:function(){this.showNotifications=!this.showNotifications}},computed:{username:function(){var e=this.$store.getters.loggedInUser;return null===e?null:Object.keys(e).length?e.name.first:null},imgProfile:function(){var e=this.$store.getters.loggedInUser;return null===e?null:Object.keys(e).length?e.profileImg:null},unread:function(){return this.$store.getters.unreadNotifications},classByUnread:function(){return this.unread?"unread":"allread"},newNotification:function(){return this.$store.getters.newNotification},colorByUnread:function(){return this.unread?"red":"black"}},created:function(){window.scroll(function(){var e=this.getCurrentScroll();e>=this.header?this.isScroll=!0:this.isScroll=!1})},components:{UserNotifications:N,NewNotification:v}},F=S,T=n("a523"),L=n("a722"),B=n("c954"),A=n("e449"),V=n("f774"),M=n("9910"),E=n("706c"),P=Object(m["a"])(F,u,l,!1,null,null,null),D=P.exports;j()(P,{VBtn:k["a"],VContainer:T["a"],VDivider:I["a"],VIcon:R["a"],VLayout:L["a"],VList:U["a"],VListTile:$["a"],VListTileAvatar:B["a"],VListTileContent:O["a"],VListTileTitle:O["c"],VMenu:A["a"],VNavigationDrawer:V["a"],VSpacer:M["a"],VToolbarSideIcon:E["a"]});var z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[e._v(" Â©ï¸ Rights reserved to Ellah, Maor & Tamir - MeeTravel\n  ")])},H=[],Y={},J=Y,G=(n("579e"),Object(m["a"])(J,z,H,!1,null,null,null)),K=G.exports,W={data:function(){return{showNav:!0}},created:function(){this.$store.dispatch({type:"loadUserOrDefaultUser"})},methods:{toggleNav:function(e){this.showNav=e}},components:{AppHeader:D,AppFooter:K}},Z=W,Q=n("7496"),X=Object(m["a"])(Z,o,c,!1,null,null,null),ee=X.exports;j()(X,{VApp:Q["a"]});var te=n("8c4f"),ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"lato-light homepage"},[n("background-gallery"),n("div",{staticClass:"main-container flex column"},[e._m(0),e._m(1),n("section",{staticClass:"location-container flex column"},[n("h3",[e._v("To find travelers in your current location:")]),n("div",{staticClass:"btn primary-dark",on:{click:e.getUserLocation}},[n("v-icon",{staticClass:"px-1",attrs:{color:"white"}},[e._v("location_on")]),e._v("Enable Location\n        "),n("span",{staticClass:"shiny"})],1),n("v-icon",{attrs:{size:"3.5rem",color:"grey lighten-5"}},[e._v("keyboard_arrow_down")])],1),n("div")]),n("div",{staticClass:"flex column secondery-container"},[n("h1",{},[e._v("Choose a location")]),n("span",{},[e._v("Find travelers in a chosen location")]),n("div",{staticClass:"flex column bg"},[n("div",{staticClass:"flex select"},[n("v-autocomplete",{staticClass:"input",attrs:{"full-width":"",clearable:"",items:e.items,label:"Search location",hint:"Select a location","item-text":"address","item-value":"location","return-object":"",autocomplete:""},on:{input:function(t){return e.setLocation(e.selectedLocation)}},model:{value:e.selectedLocation,callback:function(t){e.selectedLocation=t},expression:"selectedLocation"}}),n("button",{staticClass:"btn flex"},[n("v-icon",{attrs:{left:"",color:"white"}},[e._v("search")])],1)],1)])]),n("cards-3D",{on:{setLocation:e.setLocation}})],1)},re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"logo sensations"},[e._v("MeeTravel")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-presenting flex column"},[n("p",[e._v("CONNECT WITH TRAVELERS,")]),n("p",[e._v("GO EXPLORE TOGETHER")])])}],se=(n("96cf"),n("3b8d")),ie=(n("6762"),n("2fdb"),n("7514"),n("bc3a")),ae=n.n(ie),oe={getCityByLatLng:ue,getLatLngByAddress:de,getPosition:fe},ce="AIzaSyAQz_Zc9Ys9pFeNAYxOhagonVUGOyg_zlg";function ue(e,t){return le.apply(this,arguments)}function le(){return le=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(n,"&key=").concat(ce));case 3:return r=e.sent,s=r.data,i=s.results.find(function(e){return e.types.includes("locality")}),e.abrupt("return",i.formatted_address);case 9:e.prev=9,e.t0=e["catch"](0),console.log("there is a problam",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),le.apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return pe=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(ce));case 3:return n=e.sent,r=n.data,e.abrupt("return",r.results[0].geometry.location);case 8:e.prev=8,e.t0=e["catch"](0),console.log("there is a problam",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),pe.apply(this,arguments)}function fe(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)})}var he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"bg-gallery"},e._l(e.bgs,function(e){return r("div",{key:e.id,staticClass:"bg-img imageFade",class:"img"+e.id,style:{backgroundImage:"url("+n("e901")("./"+e.id+".jpg")+")"}})}),0)},me=[],ge={data:function(){return{count:0,interval:null,bgs:[{id:1,isActive:!0},{id:2,isActive:!1},{id:3,isActive:!1},{id:4,isActive:!1}]}},methods:{startAnimation:function(){this.interval=setInterval(function(){},5e3)}},created:function(){this.startAnimation()},destroyed:function(){clearInterval(this.interval)},computed:{}},ve=ge,be=Object(m["a"])(ve,he,me,!1,null,null,null),ye=be.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"cards-list"},[n("v-parallax",{staticClass:"cards-parallax",staticStyle:{height:"80vh"},attrs:{dark:"",src:"https://wallpapercave.com/wp/wp2013491.jpg"}},[n("v-layout",{staticClass:"main-container",attrs:{"align-center":"",column:"","justify-center":""}},[n("h1",{staticClass:"display-2 font-weight-thin mb-3"},[e._v("Top Locations")]),n("h4",{staticClass:"font-weight-thin"},[e._v("Popular destinations in our travelers community")]),n("v-carousel",{staticClass:"hidden-xs-only",attrs:{cycle:!1}},e._l(e.pages,function(t,r){return n("v-carousel-item",{key:r,staticClass:"cards-container flex "},[n("v-layout",{attrs:{row:""}},e._l(t.cards,function(t,s){return n("v-flex",{key:t.address,staticClass:"card",style:{backgroundImage:"url('"+t.imgUrl+"')"},attrs:{xs4:""},on:{click:function(t){return e.emitLocation(r,s)}}},[n("div",{staticClass:"description"},[n("div",{},[n("h3",[e._v(e._s(t.address))])])])])}),1)],1)}),1),n("v-carousel",{staticClass:"cards-container flex hidden-sm-and-up",attrs:{cycle:!1}},e._l(e.cards,function(t,r){return n("v-carousel-item",{key:t.address,staticClass:"card",style:{backgroundImage:"url('"+t.imgUrl+"')"},on:{click:function(t){return e.emitLocation(e.i,r)}}},[n("div",{staticClass:"description"},[n("div",{},[n("h3",[e._v(e._s(t.address))])])])])}),1)],1)],1)],1)},we=[],_e={data:function(){return{pages:[{cards:[{address:"Tel Aviv, Israel",coords:{lat:32.109333,lng:34.855499},imgUrl:"https://avia.md/app/uploads/2018/04/tel_aviv.jpg"},{address:"Tokyo, Japan",coords:{lat:35.652832,lng:139.839478},imgUrl:"https://media.timeout.com/images/105472310/750/562/image.jpg"},{address:"NYC, New York",coords:{lat:40.73061,lng:-73.935242},imgUrl:"https://media.timeout.com/images/105403910/750/562/image.jpg"}]},{cards:[{address:"Bangkok, Thailand",coords:{lat:13.756331,lng:100.501762},imgUrl:"https://media.timeout.com/images/105403995/750/562/image.jpg"},{address:"San SebastiÃ¡n, Spain",coords:{lat:43.3209,lng:-1.98452},imgUrl:"http://www.urbanadventures.com/blog/wp-content/uploads/The-first-view.jpg"},{address:"Dubai, United Arab Emirates",coords:{lat:25.204849,lng:55.270782},imgUrl:"https://media.timeout.com/images/105403985/750/562/image.jpg"}]},{cards:[{address:"London, United Kingdom",coords:{lat:51.507351,lng:-.127758},imgUrl:"https://cdn.londonandpartners.com/visit/general-london/areas/river/76709-640x360-houses-of-parliament-and-london-eye-on-thames-from-above-640.jpg"},{address:"Paris, France",coords:{lat:48.856613,lng:2.352222},imgUrl:"https://media.timeout.com/images/105403930/750/562/image.jpg"},{address:"Honolulu, Hawaii",coords:{lat:21.306944,lng:-157.858337},imgUrl:"https://www3.hilton.com/resources/media/hi/HNLHVHH/en_US/img/shared/full_page_image_gallery/main/HH_exterior01_1270x560_FitToBoxSmallDimension_Center.jpg"}]}],cards:[{address:"Honolulu, Hawaii",coords:{lat:21.306944,lng:-157.858337},imgUrl:"https://www3.hilton.com/resources/media/hi/HNLHVHH/en_US/img/shared/full_page_image_gallery/main/HH_exterior01_1270x560_FitToBoxSmallDimension_Center.jpg"},{address:"Paris, France",coords:{lat:48.856613,lng:2.352222},imgUrl:"https://media.timeout.com/images/105403930/750/562/image.jpg"},{address:"London, United Kingdom",coords:{lat:51.507351,lng:-.127758},imgUrl:"https://cdn.londonandpartners.com/visit/general-london/areas/river/76709-640x360-houses-of-parliament-and-london-eye-on-thames-from-above-640.jpg"},{address:"Dubai, United Arab Emirates",coords:{lat:25.204849,lng:55.270782},imgUrl:"https://media.timeout.com/images/105403985/750/562/image.jpg"},{address:"San SebastiÃ¡n, Spain",coords:{lat:43.3209,lng:-1.98452},imgUrl:"http://www.urbanadventures.com/blog/wp-content/uploads/The-first-view.jpg"},{address:"Bangkok, Thailand",coords:{lat:13.756331,lng:100.501762},imgUrl:"https://media.timeout.com/images/105403995/750/562/image.jpg"},{address:"NYC, New York",coords:{lat:40.73061,lng:-73.935242},imgUrl:"https://media.timeout.com/images/105403910/750/562/image.jpg"},{address:"Tokyo, Japan",coords:{lat:35.652832,lng:139.839478},imgUrl:"https://media.timeout.com/images/105472310/750/562/image.jpg"}]}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{emitLocation:function(e,t){this.$emit("setLocation",this.pages[e].cards[t])},handleResize:function(){}}},je=_e,ke=n("5e66"),Ce=n("3e35"),Ie=n("0e8f"),Re=n("8b9c"),Ue=Object(m["a"])(je,xe,we,!1,null,null,null),$e=Ue.exports;j()(Ue,{VCarousel:ke["a"],VCarouselItem:Ce["a"],VFlex:Ie["a"],VLayout:L["a"],VParallax:Re["a"]});var Oe={name:"home",created:function(){this.$emit("homepage",!1)},data:function(){return{location:{lat:null,lng:null,address:null},selectedLocation:{address:null,coords:{lat:null,lng:null}},items:[{address:"Tel Aviv, Israel",coords:{lat:32.109333,lng:34.855499}},{address:"Tokyo, Japan",coords:{lat:35.652832,lng:139.839478}},{address:"NYC, New York",coords:{lat:40.73061,lng:-73.935242}},{address:"Bangkok, Thailand",coords:{lat:13.756331,lng:100.501762}},{address:"San SebastiÃ¡n, Spain",coords:{lat:43.3209,lng:-1.98452}},{address:"Dubai, United Arab Emirates",coords:{lat:25.204849,lng:55.270782}},{address:"London, United Kingdom",coords:{lat:51.507351,lng:-.127758}},{address:"Paris, France",coords:{lat:48.856613,lng:2.352222}},{address:"Honolulu, Hawaii",coords:{lat:21.306944,lng:-157.858337}},{address:"Singapore , Southeast Asia",coords:{lat:1.352083,lng:103.819839}},{address:"Mumbai, India",coords:{lat:19.009809,lng:72.866287}},{address:"Athens, Greece",coords:{lat:37.98381,lng:23.727539}},{address:"Istanbul, Turkey",coords:{lat:41.00824,lng:28.978359}},{address:"Seoul, South Korea",coords:{lat:37.566536,lng:126.977966}},{address:"Chicago, Illinois",coords:{lat:41.878113,lng:-87.629799}},{address:"Las Vegas, Nevada",coords:{lat:36.169941,lng:-115.139832}},{address:"San Francisco, California",coords:{lat:37.774929,lng:-122.419418}},{address:"Washington, D.C.",coords:{lat:38.907192,lng:-77.036873}},{address:"San Francisco, California",coords:{lat:29.951065,lng:-90.071533}},{address:"Orlando, Florida",coords:{lat:28.538336,lng:-81.379234}},{address:"Oslo, Norway",coords:{lat:59.913868,lng:10.752245}},{address:"Rome, Italy",coords:{lat:41.902782,lng:12.496365}},{address:"Zurich, Switzerland",coords:{lat:47.369019,lng:8.53803}}]}},computed:{isAddress:function(){return null===this.address}},methods:{getUserLocation:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.getPosition();case 2:return t=e.sent,this.location.lat=t.coords.latitude,this.location.lng=t.coords.longitude,e.next=7,oe.getCityByLatLng(this.location.lat,this.location.lng);case 7:n=e.sent,this.location.address=n,this.goToUsers();case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setLocation:function(e){var t=e.coords,n=e.address;this.location.lat=t.lat,this.location.lng=t.lng,this.location.address=n,this.goToUsers()},goToUsers:function(){this.$store.dispatch({type:"updateLocation",location:this.location}),this.$router.push("/user")}},destroyed:function(){this.$emit("homepage",!0)},components:{backgroundGallery:ye,Cards3D:$e}},qe=Oe,Ne=n("c6a6"),Se=Object(m["a"])(qe,ne,re,!1,null,null,null),Fe=Se.exports;j()(Se,{VAutocomplete:Ne["a"],VIcon:R["a"]});var Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"log-in"},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.doLogIn(t)}}},[n("v-text-field",{staticClass:"user-name",attrs:{"prepend-icon":"person",label:"User name",type:"text"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("v-text-field",{attrs:{"prepend-icon":"lock",label:"Password",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("v-card-actions",[n("v-spacer"),n("button",{staticClass:"btn success",attrs:{type:"submit"}},[e._v("LogIn")])],1)],1)],1)},Le=[],Be=(n("ffc1"),"/api/"),Ae=ae.a.create({withCredentials:!0});function Ve(e){return Me.apply(this,arguments)}function Me(){return Me=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n,r,s,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"get",r=i.length>2&&void 0!==i[2]?i[2]:null,e.prev=2,e.next=5,Ae({url:"".concat(Be).concat(t),method:n,data:r});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:if(e.prev=9,e.t0=e["catch"](2),console.log("http service got error:",e.t0),401!==e.t0.response.status){e.next=17;break}console.log("http service got 401 error"),os.push("/login"),e.next=18;break;case 17:return e.abrupt("return",Promise.reject("http service got not-401 error: ",e.t0));case 18:case"end":return e.stop()}},e,null,[[2,9]])})),Me.apply(this,arguments)}var Ee={ajax:Ve},Pe={query:De,getById:He,signup:Xe,update:Je,remove:Ke,login:Ze,logout:tt,getLoggedUser:rt};function De(e,t){return ze.apply(this,arguments)}function ze(){return ze=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.currLat=n.lat,t.currLng=n.lng,e.prev=2,e.next=5,Ee.ajax("user".concat(it(t)));case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])})),ze.apply(this,arguments)}function He(e){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("user/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),Ye.apply(this,arguments)}function Je(e){return Ge.apply(this,arguments)}function Ge(){return Ge=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("user/".concat(t._id),"put",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),Ge.apply(this,arguments)}function Ke(e){return We.apply(this,arguments)}function We(){return We=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("user/".concat(t),"delete");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),We.apply(this,arguments)}function Ze(e){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("auth/login","post",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),Qe.apply(this,arguments)}function Xe(e){return et.apply(this,arguments)}function et(){return et=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("auth/signup","post",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),et.apply(this,arguments)}function tt(){return nt.apply(this,arguments)}function nt(){return nt=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("auth/logout","post");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),nt.apply(this,arguments)}function rt(){return st.apply(this,arguments)}function st(){return st=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("auth/");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),st.apply(this,arguments)}function it(e){if(e){var t=Object.entries(e).map(function(e){return"".concat(e[0],"=").concat(e[1],"&")});return t.unshift("?"),t.join("")}}var at={data:function(){return{user:{username:"",password:""}}},methods:{doLogIn:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"login",user:this.user});case 3:this.$router.push("/user"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("got here with a mistake",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()}},ot=at,ct=(n("0d3a"),n("99d9")),ut=n("4bd4"),lt=n("2677"),dt=Object(m["a"])(ot,Te,Le,!1,null,null,null),pt=dt.exports;j()(dt,{VCardActions:ct["a"],VForm:ut["a"],VSpacer:M["a"],VTextField:lt["a"]});var ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sign-up"},[n("v-form",{on:{submit:function(t){return t.preventDefault(),e.doSignUp(t)}}},[n("v-text-field",{staticClass:"first-name",attrs:{"prepend-icon":"person",label:"First name",type:"text"},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}),n("v-text-field",{attrs:{"prepend-icon":"person",label:"Last name",type:"text"},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}}),n("v-text-field",{attrs:{"prepend-icon":"lock",label:"Password",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("v-card-actions",[n("v-spacer"),n("button",{staticClass:"btn success",attrs:{type:"submit"}},[e._v("SignUp")])],1)],1)],1)},ht=[],mt={data:function(){return{user:{firstName:"",lastName:"",password:""}}},methods:{doSignUp:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"signup",user:this.user});case 3:this.$router.push("/user"),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0),this.$router.push("/signup");case 10:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()}},gt=mt,vt=(n("0079"),Object(m["a"])(gt,ft,ht,!1,null,null,null)),bt=vt.exports;j()(vt,{VCardActions:ct["a"],VForm:ut["a"],VSpacer:M["a"],VTextField:lt["a"]});var yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"})},xt=[],wt={},_t=wt,jt=Object(m["a"])(_t,yt,xt,!1,null,null,null),kt=jt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-home"},[n("div",{staticClass:"top-bar bg"},[e.users?n("h1",{staticClass:"lato-light"},[e._v("\n        Found\n        "),n("b",[e._v(e._s(e.users.length))]),e._v("\n        nearby travelers!\n      ")]):e._e(),n("h4",[e._v("\n        Location: \n        "+e._s(e.location)+" \n        "),n("v-icon",{attrs:{size:"18"}},[e._v("location_on")])],1)]),e.users?n("h3",{staticClass:"lato-light"}):e._e(),n("div",{staticClass:"flex user-gallery"},[e.currMin?n("img",{staticClass:"hidden-xs-only",attrs:{src:e.currMin.profileImg},on:{click:function(t){return e.navUsers(-1)}}}):e._e(),e.users?n("user-preview",{attrs:{user:e.users[e.currUserIdx]},on:{nav:e.navUsers,request:e.sendRequest}}):e._e(),e.currMax?n("img",{staticClass:"hidden-xs-only",attrs:{src:e.currMax.profileImg},on:{click:function(t){return e.navUsers(1)}}}):e._e()],1),n("div",{staticClass:"flex map-filter"},[n("user-filter"),n("users-map",{on:{goToUser:e.navToUser}})],1)])},It=[],Rt=(n("20d6"),n("75fc")),Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("li",{staticClass:"user-preview flex column",class:e.isAdminPageClass},[n("div",{staticClass:"flex user-nav"},[e.isAdminPage?e._e():n("button",{staticClass:"btn-arrow bounce",on:{click:function(t){return t.stopPropagation(),e.emitNavUsers(-1)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("keyboard_arrow_left")])],1),n("router-link",{attrs:{to:e.detailsUrl}},[n("figure",{staticClass:"snip1529 img-container"},[n("img",{attrs:{src:e.user.profileImg}}),n("div",{staticClass:"date"},[n("span",{staticClass:"day"},[e._v(e._s(e.distance))]),n("span",{staticClass:"month"},[e._v("km")])]),n("figcaption",[n("h3",[e._v(e._s(e.user.name.first)+" "+e._s(e.user.name.last)+", "+e._s(e.age))]),n("p",[e._v(e._s(e.user.residance.city)+", "+e._s(e.user.residance.country))])]),n("div",{class:{hover:e.isHover},on:{mouseleave:function(t){e.isHover=!1}}},[n("i",[e._v("View profile")])]),n("a",{attrs:{href:"#"}})])]),e.isAdminPage?e._e():n("button",{staticClass:"btn-arrow bounce",on:{click:function(t){return t.stopPropagation(),e.emitNavUsers(1)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("keyboard_arrow_right")])],1)],1),e.isAdminPage?e._e():n("button",{staticClass:"btn primary",class:e.btnClass,attrs:{disabled:e.possibleToRequest},on:{click:e.emitRequest}},[e._v("\n    "+e._s(e.btnText)+"\n    ")]),e.isAdminPage?n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:e.editUrl}},[e._v("Edit")]),e._v("|\n    "),n("button",{attrs:{title:"delete user"},on:{click:e.emitDelete}},[e._v("x")])],1):e._e()]):e._e()},$t=[],Ot=(n("28a5"),{getRandomInt:qt,makeLorem:St,makeId:Nt,getTodayAsInputVal:Lt,createSortFuncTxt:Bt,getRandomColors:At,calulateDistance:Mt,randomGeo:Et,randomDate:Pt});function qt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function Nt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function St(e){var t="";while(t.length<e){var n=qt(3,6),r=Tt(n);Math.random()>.9&&(r+=","),t+=r+" "}return t=t.substring(0,e),t=t[0].toUpperCase()+t.substr(1),t}function Ft(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}function Tt(e){var t="";while(t.length<e){var n=Ft();t+=n}return t}function Lt(){var e=new Date;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toJSON().slice(0,10)}function Bt(e,t){function n(n,r){return"+"===t?n[e]>r[e]?1:n[e]<r[e]?-1:0:n[e]<r[e]?1:n[e]>r[e]?-1:0}return n}function At(e){var t=[];while(t.length<e)t.push(Vt());return t}function Vt(){for(var e="0123456789ABCDEF".split(""),t="#",n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t}function Mt(e,t){var n=6371,r=(e.lat-t.lat)*Math.PI/180,s=(e.lng-t.lng)*Math.PI/180,i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),a=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),o=n*a;return o>1?Math.round(o):o<=1?Math.round(1e3*o):o}function Et(e,t){var n=e.lat,r=e.lng,s=t/111300,i=Math.random(),a=Math.random(),o=s*Math.sqrt(i),c=2*Math.PI*a,u=o*Math.cos(c),l=o*Math.sin(c);return{lat:l+n,lng:u+r}}function Pt(e,t){return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime()))}var Dt={getRandomImg:Ht,uploadImg:Yt},zt="image/";function Ht(e){return Ee.ajax("".concat(zt,"setRandomImg/").concat(e))}function Yt(e){return Jt.apply(this,arguments)}function Jt(){return Jt=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("imgUpload",t.target.files[0]),e.next=4,Ee.ajax("".concat(zt,"upload/cloudinary"),"post",n);case 4:return r=e.sent,e.abrupt("return",r.url);case 6:case"end":return e.stop()}},e)})),Jt.apply(this,arguments)}var Gt={props:{user:{type:Object,require:!0},type:{type:String,require:!1}},data:function(){return{isHover:!0}},computed:{age:function(){return(new Date).getFullYear()-this.user.birthDate},detailsUrl:function(){return"/user/".concat(this.user._id)},editUrl:function(){return"/profile/edit"},fullName:function(){return this.user.firstName+" "+this.user.lastName},isAdminPage:function(){return"admin"===this.type},isAdminPageClass:function(){return"admin"===this.type?"admin":""},distance:function(){return Ot.calulateDistance(this.$store.getters.location,this.user.location)},btnText:function(){var e=this.user._id;return this.$store.getters.isFriendById(e)?"Already your friend":this.$store.getters.isRequestedById(e)?"Pending, waiting for your approve":this.$store.getters.isRequesterById(e)?"Pending, waiting for recipient approve":"Send a request"},btnClass:function(){return this.btnText?"disabled":""},possibleToRequest:function(){var e=this.user._id;return!!(this.$store.getters.isFriendById(e)||this.$store.getters.isRequestedById(e)||this.$store.getters.isRequesterById(e))}},methods:{emitDelete:function(){this.$parent.$emit("delete-user",this.user._id)},emitRequest:function(){this.$emit("request",{userId:this.user._id,name:this.user.name.first+" "+this.user.name.last})},emitNavUsers:function(e){this.$emit("nav",e)},changePic:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.parse(JSON.stringify(this.user)),e.next=3,Dt.getRandomImg("travel");case 3:return n=e.sent,t.profileImg=n,e.next=7,Pe.update(t);case 7:console.log("done");case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Kt=Gt,Wt=(n("6905"),Object(m["a"])(Kt,Ut,$t,!1,null,null,null)),Zt=Wt.exports;j()(Wt,{VIcon:R["a"]});var Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-slider"})},Xt=[],en={},tn=en,nn=Object(m["a"])(tn,Qt,Xt,!1,null,null,null),rn=nn.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GmapMap",{staticStyle:{width:"800px",height:"400px",margin:"40px 10px"},attrs:{center:e.userPosition,zoom:11,"map-type-id":"terrain"}},[n("GmapMarker",{attrs:{position:e.userPosition,clickable:!0,draggable:!1,title:"me"}}),e._l(e.users,function(t,r){return n("GmapMarker",{key:r,attrs:{position:t.location,clickable:!0,draggable:!1,title:t.name.first+" "+t.name.last,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"},on:{click:function(n){return e.goToUser(t._id)}}})})],2)},an=[],on=n("755e"),cn={computed:{users:function(){return this.$store.getters.users},userPosition:function(){return this.$store.getters.location}},methods:{goToUser:function(e){this.$emit("goToUser",e)}}},un=cn,ln=Object(m["a"])(un,sn,an,!1,null,null,null),dn=ln.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-filter flex column lato-light"},[n("h1",[e._v("Filter travelers")]),n("v-flex",[n("v-subheader",{staticClass:"pl-0"},[e._v("Distance")]),n("v-slider",{attrs:{"thumb-color":"red","thumb-size":26,"thumb-label":"always",min:"1",max:"100"},on:{input:e.setFilter},model:{value:e.filterBy.distance,callback:function(t){e.$set(e.filterBy,"distance",t)},expression:"filterBy.distance"}})],1),n("h3",{staticClass:"pl-0"},[e._v("Age")]),n("v-flex",{staticStyle:{"align-items":"baseline"}},[n("v-flex",{staticStyle:{"align-items":"baseline"}},[n("v-subheader",{staticClass:"pl-0"},[e._v("From")]),n("v-text-field",{staticClass:"mt-0",attrs:{"hide-details":"","single-line":"",type:"number"},on:{input:e.setFilter},model:{value:e.filterBy.minAge,callback:function(t){e.$set(e.filterBy,"minAge",t)},expression:"filterBy.minAge"}})],1),n("v-flex",{staticStyle:{"align-items":"baseline"}},[n("v-subheader",{staticClass:"pl-0 ml-3"},[e._v("To")]),n("v-text-field",{staticClass:"ma-2",attrs:{"hide-details":"","single-line":"",type:"number"},on:{input:e.setFilter},model:{value:e.filterBy.maxAge,callback:function(t){e.$set(e.filterBy,"maxAge",t)},expression:"filterBy.maxAge"}})],1)],1),n("v-flex",[n("v-subheader",{staticClass:"pl-0"},[e._v("Gender")]),n("gender-picker",{on:{input:e.setFilter},model:{value:e.filterBy.gender,callback:function(t){e.$set(e.filterBy,"gender",t)},expression:"filterBy.gender"}})],1)],1)},fn=[],hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"picker"},[n("button",{staticClass:"dropbtn",on:{click:function(t){return t.preventDefault(),e.toggleShowDropdownContent(t)}}},[e._v(e._s(e.display)+"â–¼")]),e.showContent?n("ul",{staticClass:"dropdown-content"},e._l(Object.entries(e.genders),function(t){return n("li",{key:t[0],staticClass:"dropdown-item",on:{click:function(n){return n.preventDefault(),e.emitChangedValue(t[0])}}},[e._v(" "+e._s(t[1])+"\n        ")])}),0):e._e()])},mn=[],gn={props:{value:{type:String,require:!0},type:{type:String,require:!1}},data:function(){return{showContent:!1,genders:{woman:"ðŸ‘© Woman",man:"ðŸ‘¨ Man",other:"Other"}}},created:function(){"picker"!==this.type&&(this.genders.all="All")},methods:{emitChangedValue:function(e){this.showContent=!1,this.$emit("input",e)},toggleShowDropdownContent:function(){this.showContent=!this.showContent}},computed:{display:function(){return this.genders[this.value]}}},vn=gn,bn=(n("1b08"),Object(m["a"])(vn,hn,mn,!1,null,null,null)),yn=bn.exports,xn={data:function(){return{filterBy:{distance:20,minAge:20,maxAge:80,gender:"all"}}},created:function(){this.filterBy=JSON.parse(JSON.stringify(this.$store.getters.filterBy))},methods:{setFilter:function(){this.$store.dispatch({type:"setFilter",filterBy:this.filterBy})}},components:{GenderPicker:yn}},wn=xn,_n=(n("5bd7"),n("ba0d")),jn=n("e0c7"),kn=Object(m["a"])(wn,pn,fn,!1,null,null,null),Cn=kn.exports;j()(kn,{VFlex:Ie["a"],VSlider:_n["a"],VSubheader:jn["a"],VTextField:lt["a"]});var In={created:function(){this.$store.dispatch({type:"loadUsers"})},data:function(){return{currUserIdx:0,filterByName:null}},computed:{users:function(){var e=this,t=Object(Rt["a"])(this.$store.getters.users),n=t.findIndex(function(t){return t._id===e.$store.getters.loggedInUser._id});return n>-1?t:(t.splice(n,1),t)},currMin:function(){if(this.users)return 0===this.currUserIdx?this.users[this.users.length-1]:this.users[this.currUserIdx-1]},currMax:function(){if(this.users)return this.currUserIdx===this.users.length-1?this.users[0]:this.users[this.currUserIdx+1]},location:function(){return this.$store.getters.location.address}},methods:{navUsers:function(e){0===this.currUserIdx&&e<0&&(this.currUserIdx=this.users.length-1),this.currUserIdx===this.users.length-1&&e>0&&(this.currUserIdx=0),this.$store.getters.loggedInUser._id===this.users[this.currUserIdx+e]._id&&(this.currUserIdx+=e),this.currUserIdx+=e},setFilter:function(){this.$store.dispatch({type:"setFilterByName",filterByName:this.filterByName})},sendRequest:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={createdAt:(new Date).getTime(),location:this.$store.getters.location,sender:{userId:this.$store.getters.loggedInUser._id,name:this.$store.getters.loggedInUser.name.first+" "+this.$store.getters.loggedInUser.name.last},status:"pending",recipient:t,messages:[]},e.next=3,this.$store.dispatch({type:"sendRequest",request:n});case 3:console.log("request sent to",t),this.$noty.success("Request sent to ".concat(t.name));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),navToUser:function(e){var t=this.users.findIndex(function(t){return t._id===e});this.currUserIdx=t}},components:{UserPreview:Zt,UserSlider:rn,UsersMap:dn,UserFilter:Cn}},Rn=In,Un=Object(m["a"])(Rn,Ct,It,!1,null,null,null),$n=Un.exports;j()(Un,{VIcon:R["a"]});var On=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin"},[n("h1",[e._v("Admin Page")]),n("user-list",{attrs:{type:"admin",users:e.users}})],1)},qn=[],Nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"users-list"},[n("h3",[e._v("Users list:")]),e._l(e.users,function(t){return n("user-preview",{key:t._id,attrs:{type:e.type,user:t}})})],2)])},Sn=[],Fn={props:{users:{type:Array,require:!0},type:{type:String,require:!1}},components:{UserPreview:Zt}},Tn=Fn,Ln=(n("7e14"),Object(m["a"])(Tn,Nn,Sn,!1,null,null,null)),Bn=Ln.exports,An={created:function(){this.$store.dispatch({type:"loadUsers"})},computed:{users:function(){return this.$store.getters.users}},components:{UserList:Bn}},Vn=An,Mn=Object(m["a"])(Vn,On,qn,!1,null,null,null),En=Mn.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",{staticClass:"user-edit lato-light"},[n("h1",{staticClass:"title"},[e._v("Edit profile settings")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.saveUser(t)}}},[n("v-text-field",{attrs:{"prepend-icon":"email",label:"email",type:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),n("v-select",{attrs:{"prepend-icon":"people",items:e.items,label:"Update gender","data-vv-name":"select"},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}}),n("v-text-field",{attrs:{"prepend-icon":"edit_location",label:"Location (City)",type:"text"},model:{value:e.user.residance.city,callback:function(t){e.$set(e.user.residance,"city",t)},expression:"user.residance.city"}}),n("v-text-field",{attrs:{"prepend-icon":"edit_location",label:"Location (Country)",type:"text"},model:{value:e.user.residance.country,callback:function(t){e.$set(e.user.residance,"country",t)},expression:"user.residance.country"}}),n("v-text-field",{attrs:{"prepend-icon":"event",label:"Year of birth",type:"number"},model:{value:e.user.birthDate,callback:function(t){e.$set(e.user,"birthDate",t)},expression:"user.birthDate"}}),n("button",{staticClass:"btn success",attrs:{type:"submit"}},[e._v(e._s(e.btnText))])],1)]):e._e()},Dn=[],zn={created:function(){this.getUser()},data:function(){return{user:{residance:{city:null,country:null}},gender:null,items:["","Man","Woman","Other"]}},computed:{btnText:function(){return this.user._id?"Update":"Add"}},methods:{saveUser:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"updateUser",user:this.user});case 2:console.log("updated user"),this.$router.push("/user");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getUser:function(){var e=this.$store.getters.loggedInUser;console.log("user",e),this.user=e}},components:{}},Hn=zn,Yn=(n("12b8"),n("b56d")),Jn=Object(m["a"])(Hn,Pn,Dn,!1,null,null,null),Gn=Jn.exports;j()(Jn,{VSelect:Yn["a"],VTextField:lt["a"]});var Kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("section",{staticClass:"user-profile lato-light"},[n("div",{staticClass:"cover parallax flex column"},[n("img",{staticClass:"profile-img",attrs:{src:e.user.profileImg}}),n("h1",[e._v(e._s(e.user.name.first)+" "+e._s(e.user.name.last)+", "+e._s(e.age))]),n("p",[e._v(e._s(e.user.residance.city)+", "+e._s(e.user.residance.country))]),n("div",{staticClass:"actions flex"},[n("div",[n("router-link",{staticClass:"flex wrap",attrs:{to:"/profile/edit"}},[n("v-icon",{attrs:{color:"white"}},[e._v("edit")]),e._v("Edit general info\n        ")],1)],1),n("div",[n("router-link",{attrs:{to:"/friends"}},[n("v-icon",{attrs:{color:"white"}},[e._v("people")]),e._v("Friends\n        ")],1)],1)])]),n("div",{staticClass:"user-info"},[n("div",{staticClass:"flex "},[n("h2",[e._v("Bucket List")]),n("ul",{staticClass:"flex wrap"},e._l(e.user.bucketList,function(t){return n("li",{key:t,staticClass:"tag"},[e._v(e._s(t)+" Ã—")])}),0)]),n("v-divider"),n("div",[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("h2",[e._v("\n              About me\n              "),n("v-icon",e._g({attrs:{title:"Edit about me"}},r),[e._v("edit")])],1)]}}],null,!1,1068471484),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Edit about me:")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",[n("v-textarea",{attrs:{hint:"edit info"},model:{value:e.user.description,callback:function(t){e.$set(e.user,"description",t)},expression:"user.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.editInfo(),e.dialog=!1}}},[e._v("Save")])],1)],1)],1)],1),n("div",{staticClass:"flex"},[n("p",[e._v(e._s(e.user.description))])]),n("v-divider")],1)],1)]):e._e()},Wn=[],Zn={data:function(){return{user:null,dialog:!1,isLoadingPic:!1,isFileUpload:!1}},created:function(){this.user=this.$store.getters.loggedInUser},computed:{age:function(){return(new Date).getFullYear()-this.user.birthDate}},methods:{editInfo:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"updateUser",user:this.user});case 2:console.log("updated user");case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),openFileInput:function(){this.isFileUpload=!this.isFileUpload},uploadImage:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingPic=!0,e.next=3,this.$store.dispatch({type:"uploadImg",event:t});case 3:n=e.sent,this.user.profileImg=n,this.isLoadingPic=!1;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},Qn=Zn,Xn=(n("0fb2"),n("12b2")),er=n("169a"),tr=n("a844"),nr=Object(m["a"])(Qn,Kn,Wn,!1,null,null,null),rr=nr.exports;j()(nr,{VBtn:k["a"],VCard:C["a"],VCardActions:ct["a"],VCardText:ct["b"],VCardTitle:Xn["a"],VContainer:T["a"],VDialog:er["a"],VDivider:I["a"],VFlex:Ie["a"],VIcon:R["a"],VLayout:L["a"],VSpacer:M["a"],VTextarea:tr["a"]});var sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("section",{staticClass:"user-details"},[e.user?n("div",{staticClass:"user-profile lato-light"},[n("div",{staticClass:"cover parallax"},[n("img",{staticClass:"profile-img",attrs:{src:e.user.profileImg}}),n("h1",[e._v(e._s(e.user.name.first)+" "+e._s(e.user.name.last)+", "+e._s(e.age))]),n("p",[e._v(e._s(e.user.residance.city)+", "+e._s(e.user.residance.country))])]),n("div",{staticClass:"user-info"},[n("div",{staticClass:"flex start",staticStyle:{"align-items":"baseline"}},[n("h2",[e._v("Bucket List")]),e._l(e.user.bucketList,function(t){return n("p",{key:t,staticClass:"tag"},[e._v(e._s(t))])})],2),n("v-divider"),n("h2",[e._v("About me")]),n("p",[e._v(e._s(e.user.description))]),n("v-divider"),n("div",{staticClass:"flex start",staticStyle:{"align-items":"baseline"}},[n("h2",[e._v("Prefered Travel Type")]),e._l(e.user.travelTypes,function(t){return n("p",{key:t},[e._v(e._s(t))])})],2),n("v-divider"),n("div",{staticClass:"flex start",staticStyle:{"align-items":"baseline"}},[n("h2",[e._v("Age")]),n("span",[e._v(e._s(e.age))])]),n("v-divider"),n("div",{staticClass:"flex start",staticStyle:{"align-items":"baseline"}},[n("h2",[e._v("location")]),n("span",[e._v(e._s(e.distance)+" km away")])]),n("v-divider")],1)]):e._e(),n("div",{staticClass:"actions"},[n("button",{staticClass:"btn primary",attrs:{disabled:e.possibleToRequest},on:{click:e.sendRequest}},[n("v-icon",{staticClass:"px-1",attrs:{color:"white"}},[e._v("send")]),e._v("      \n    "+e._s(e.btnText)+"\n      "),n("span",{staticClass:"shiny"})],1)])]):e._e()},ir=[],ar={data:function(){return{user:null}},created:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.userId,e.next=3,this.$store.dispatch({type:"loadUserById",userId:t});case 3:n=e.sent,n?this.user=JSON.parse(JSON.stringify(n)):this.$router.push("/user");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{distance:function(){return Ot.calulateDistance(this.$store.getters.location,this.user.location)},age:function(){return(new Date).getFullYear()-this.user.birthDate},btnText:function(){var e=this.user._id;return this.$store.getters.isFriendById(e)?"Your friend":this.$store.getters.isRequestedById(e)?"Pending, waiting for your approve":this.$store.getters.isRequesterById(e)?"Pending, waiting for recipient approve":"Send a request"},possibleToRequest:function(){var e=this.user._id;return!!(this.$store.getters.isFriendById(e)||this.$store.getters.isRequestedById(e)||this.$store.getters.isRequesterById(e))}},methods:{sendRequest:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={createdAt:(new Date).getTime(),location:this.$store.getters.location,sender:{userId:this.$store.getters.loggedInUser._id,name:this.$store.getters.loggedInUser.name.first+" "+this.$store.getters.loggedInUser.name.last},status:"pending",recipient:{userId:this.user._id,name:this.user.name.first+" "+this.user.name.last},messages:[]},e.next=3,this.$store.dispatch({type:"sendRequest",request:t});case 3:console.log("request sent to",t.recipient),this.$noty.success("Request sent to ".concat(t.recipient.name)),this.$router.push("/user");case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},or=ar,cr=(n("b7f5"),Object(m["a"])(or,sr,ir,!1,null,null,null)),ur=cr.exports;j()(cr,{VDivider:I["a"],VIcon:R["a"]});var lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"inbox-nav"},[n("router-link",{staticClass:"title-container",attrs:{to:"/inbox/friends"}},[n("p",{staticClass:"inbox-title"},[e._v("Friends")])]),n("router-link",{staticClass:"sub-title-container",attrs:{to:"/inbox/requests"}},[n("p",{staticClass:"inbox-sub-title"},[e._v("Requests")])])],1),e.friendships.length?n("ul",{staticClass:"friends-list"},e._l(e.friendships,function(t){return n("friend-preview",{key:(t||{})._id,attrs:{friendship:t},on:{showChat:e.openChat}})}),1):e._e(),e.showChat?n("chat-room",{attrs:{chatInfo:e.chatInfo},on:{close:e.closeChat}}):e._e()],1)},dr=[],pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.friendship?n("li",{staticClass:"friend-preview"},[n("router-link",{attrs:{to:e.friendUrl,title:"Show profile"}},[e.friendImg?n("img",{attrs:{src:e.friendImg}}):e._e()]),n("h3",[e._v(e._s(e.friendName))]),n("h4",[e._v("Friends since "+e._s(e.time))]),n("button",{staticClass:"chat-icon",attrs:{title:"Open chat"},on:{click:e.emitShowChat}},[n("i",{staticClass:"material-icons"},[e._v("chat")])])],1):e._e()])},fr=[],hr=n("c1df"),mr=n.n(hr),gr={props:{friendship:{type:Object,require:!0}},data:function(){return{showChat:!1,friendImg:null}},created:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.getters.loggedInUser._id.includes(this.friendship.sender.userId)?this.friendship.recipient.userId:this.friendship.sender.userId,n=this.$store.getters.userById(t),!n){e.next=6;break}this.friendImg=n.profileImg,e.next=10;break;case 6:return e.next=8,this.$store.dispatch({type:"loadUserById",userId:t});case 8:n=e.sent,this.friendImg=n.profileImg;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{detailsUrl:function(){return"/inbox/friends/".concat(this.friendship._id)},time:function(){return mr()(this.friendship.createdAt).format("MMM, YYYY")},friendName:function(){return this.$store.getters.loggedInUser._id.includes(this.friendship.sender.userId)?this.friendship.recipient.name:this.friendship.sender.name},friendUrl:function(){var e=this.$store.getters.loggedInUser._id.includes(this.friendship.sender.userId)?this.friendship.recipient.userId:this.friendship.sender.userId;return"/user/".concat(e)}},methods:{emitShowChat:function(){this.$emit("showChat",{friendshipId:this.friendship._id,history:this.friendship.messages,friendImg:this.friendImg,friendName:this.friendName})}}},vr=gr,br=(n("5b22"),Object(m["a"])(vr,pr,fr,!1,null,null,null)),yr=br.exports,xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-box"},[n("header",[e.chatInfo.friendImg?n("img",{attrs:{src:e.chatInfo.friendImg}}):e._e(),n("h3",[e._v(e._s(e.chatInfo.friendName))]),n("button",{on:{click:e.emitCloseChat}},[e._v("Ã—")])]),n("div",{staticClass:"chat-body"},[n("ul",{ref:"msgsList",staticClass:"chat-area"},e._l(e.messages,function(t,r){return n("li",{key:r,staticClass:"message",class:{"message-out":t.from===e.user,"message-in":t.from!==e.user}},[e._v(e._s(t.txt))])}),0)]),n("div",{staticClass:"input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"input-msg",attrs:{type:"text",placeholder:"Write your message...",autofocus:""},domProps:{value:e.txt},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},input:function(t){t.target.composing||(e.txt=t.target.value)}}}),n("button",{staticClass:"material-icons",on:{click:e.sendMessage}},[e._v("send")])])])},wr=[],_r=n("8055"),jr=n.n(_r),kr="",Cr=jr()(kr),Ir={on:Rr,emit:Ur,socket:Cr};function Rr(e,t){Cr.on(e,t)}function Ur(e,t){Cr.emit(e,t)}var $r={data:function(){return{txt:"",messages:[],socket:null}},props:["chatInfo"],created:function(){var e=this;this.socket=Ir.socket,this.chatInfo.history.forEach(function(t){e.messages.push(t)}),this.socket.emit("chat join",{user:this.user,friendshipId:this.chatInfo.friendshipId}),this.socket.on("chat newMsg",function(t){e.messages.push(t),setTimeout(function(){e.$refs.msgsList&&e.$refs.msgsList.scrollTo({top:e.$refs.msgsList.scrollHeight,behavior:"smooth"})},20)})},computed:{user:function(){return this.$store.getters.loggedInUser.username}},methods:{sendMessage:function(){var e={from:this.user,txt:this.txt};this.socket.emit("chat msg",{msg:e,friendshipId:this.chatInfo.friendshipId}),this.txt=""},emitCloseChat:function(){this.$emit("close")}},destroyed:function(){this.messages=[]}},Or=$r,qr=(n("138f"),Object(m["a"])(Or,xr,wr,!1,null,"830cf2e8",null)),Nr=qr.exports,Sr={data:function(){return{showChat:!1,chatInfo:null}},created:function(){this.$store.dispatch({type:"loadFriends"})},computed:{friendships:function(){return this.$store.getters.friendships||[]}},methods:{openChat:function(e){var t=this;this.showChat?(this.showChat=!1,setTimeout(function(){t.showChat=!0,t.chatInfo=e},2)):(this.showChat=!0,this.chatInfo=e)},closeChat:function(){this.showChat=!1,this.chatInfo=null}},components:{FriendPreview:yr,ChatRoom:Nr}},Fr=Sr,Tr=(n("2fa2"),Object(m["a"])(Fr,lr,dr,!1,null,null,null)),Lr=Tr.exports,Br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-inbox"},[n("router-view")],1)},Ar=[],Vr={},Mr=Vr,Er=(n("b3dff"),Object(m["a"])(Mr,Br,Ar,!1,null,null,null)),Pr=Er.exports,Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"inbox-nav"},[n("router-link",{staticClass:"sub-title-container",attrs:{to:"/inbox/friends"}},[n("p",{staticClass:"inbox-sub-title"},[e._v("Friends")])]),n("router-link",{staticClass:"title-container",attrs:{to:"/inbox/requests"}},[n("p",{staticClass:"inbox-title"},[e._v("Requests")])])],1),e.requests?n("ul",{staticClass:"requests-list"},e._l(e.requests,function(e){return n("request-preview",{key:(e||{})._id,attrs:{request:e}})}),1):e._e()])},zr=[],Hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.request?n("li",{staticClass:"request-preview"},[e.sender?n("router-link",{attrs:{to:e.senderUrl,title:"Show profile"}},[n("img",{attrs:{src:e.senderImage}})]):e._e(),n("h4",[e._v(" "+e._s(e.request.sender.name))]),n("h4",[e._v(" sent "+e._s(e.time))]),n("button",{staticClass:"btn",on:{click:e.approveRequest}},[e._v("Confirm?")])],1):e._e()},Yr=[],Jr={props:{request:{type:Object,require:!0}},data:function(){return{sender:null}},created:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"loadUserById",userId:this.request.sender.userId});case 2:t=e.sent,this.sender=t;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{senderUrl:function(){return"/user/".concat(this.request.sender.userId)},time:function(){return mr()(this.request.createdAt).fromNow()},senderImage:function(){return this.sender.profileImg}},methods:{approveRequest:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"approveRequest",requestId:this.request._id});case 2:console.log("request approved, user is now in your friends list"),setTimeout(function(){t.$router.push("/inbox/friends")},100);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Gr=Jr,Kr=(n("747f"),Object(m["a"])(Gr,Hr,Yr,!1,null,null,null)),Wr=Kr.exports,Zr={created:function(){this.$store.dispatch({type:"loadRequests"})},computed:{requests:function(){return this.$store.getters.requests||[]}},components:{RequestPreview:Wr}},Qr=Zr,Xr=Object(m["a"])(Qr,Dr,zr,!1,null,null,null),es=Xr.exports,ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.friendship?n("div",[n("chat-room",{attrs:{friendshipId:e.friendship._id,history:e.friendship.messages}})],1):e._e()},ns=[],rs={data:function(){return{friendship:null}},created:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.friendshipId,e.next=3,this.$store.dispatch({type:"loadFriendshipById",friendshipId:t});case 3:n=e.sent,n?this.friendship=JSON.parse(JSON.stringify(n)):this.$router.push("/inbox");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{friendName:function(){return this.$store.getters.loggedInUser._id.includes(this.friendship.sender.userId)?this.friendship.recipient.name:this.friendship.sender.name}},components:{ChatRoom:Nr}},ss=rs,is=Object(m["a"])(ss,ts,ns,!1,null,null,null),as=is.exports;r["a"].use(te["a"]);var os=new te["a"]({routes:[{path:"/",name:"home",component:Fe},{path:"/login",name:"login",component:pt},{path:"/signup",name:"signup",component:bt},{path:"/about",name:"about",component:kt},{path:"/user",name:"AppHome",component:$n},{path:"/admin",name:"AdminPage",component:En},{path:"/profile",name:"UserProfile",component:rr},{path:"/profile/edit",name:"EditUser",component:Gn},{path:"/user/:userId",name:"UserDetails",component:ur},{path:"/inbox",name:"UserInbox",component:Pr,children:[{path:"friends",component:Lr},{path:"friends/:friendshipId",component:as},{path:"requests",component:es}]},{path:"/filterTravelers",name:"FilterTravelers",component:Cn}]}),cs=n("2f62"),us={strict:!0,state:{users:[],loggedUser:null,filterBy:{distance:20,minAge:20,maxAge:80,gender:"all",name:null},location:{lat:32.059391999999995,lng:34.8512256,address:"Kiryat Ono, Israel"},newNotification:null},getters:{loggedInUser:function(e){return e.loggedUser||{}},users:function(e){return e.users},isAdmin:function(e,t){return!!t.loggedInUser.isAdmin},filterBy:function(e){return e.filterBy},userById:function(e){return function(t){return e.users.find(function(e){return e._id===t})}},location:function(e){return e.location},notifications:function(e,t){return t.loggedInUser.notifications},unreadNotifications:function(e){return e.loggedUser?e.loggedUser.notifications.filter(function(e){return!e.readStatus}).length:0},newNotification:function(e){return e.newNotification}},mutations:{setLoggedUser:function(e,t){var n=t.user;e.loggedUser=n},setUsers:function(e,t){var n=t.filteredUsers;e.users=n},updateUser:function(e,t){var n=t.updatedUser,r=e.users.findIndex(function(e){return e._id===n._id});e.users.splice(r,1,n)},addUser:function(e,t){var n=t.addedUser;e.users.push(n)},removeUser:function(e,t){var n=t.userId,r=e.users.findIndex(function(e){return e._id===n});e.users.splice(r,1)},setFilter:function(e,t){var n=t.filterBy;e.filterBy=JSON.parse(JSON.stringify(n))},setFilterByName:function(e,t){var n=t.filterByName;e.filterBy.name=n},updateLocation:function(e,t){var n=t.location;e.location=n},addNotification:function(e,t){var n=t.notification;e.loggedUser.notifications.push(n)},updateReadNotification:function(e,t){var n=t.index;e.loggedUser.notifications[n].readStatus=!0},setNewNotification:function(e,t){var n=t.notification;e.newNotification=n}},actions:{login:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.user,e.next=3,Pe.login(r);case 3:if(s=e.sent,s){e.next=8;break}throw"no user found";case 8:return t.commit({type:"setLoggedUser",user:s}),t.dispatch({type:"appLogin",root:!0}),t.dispatch({type:"loadFriendships"}),e.abrupt("return",s);case 12:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),signup:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.user,e.next=3,Pe.signup(r);case 3:return s=e.sent,t.commit({type:"addUser",user:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.userId,e.next=3,Pe.remove(r);case 3:return t.commit({type:"removeUser",userId:r}),e.abrupt("return",{});case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.user,e.next=3,Pe.update(r);case 3:return s=e.sent,t.commit({type:"updateUser",updatedUser:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe.logout();case 2:return t.commit({type:"setLoggedUser",user:null}),e.abrupt("return",{});case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setFilter:function(e,t){var n=t.filterBy;e.commit({type:"setFilter",filterBy:n}),e.dispatch({type:"loadUsers"})},setFilterByName:function(e,t){var n=t.filterByName;e.commit({type:"setFilterByName",filterByName:n}),e.dispatch({type:"loadUsers"})},updateProfile:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.userData,e.next=3,Pe.update(r);case 3:return s=e.sent,t.commit({type:"updateUser",updatedUser:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadUsers:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe.query(t.state.filterBy,t.state.location);case 2:return n=e.sent,t.commit({type:"setUsers",filteredUsers:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updateLocation:function(e,t){var n=t.location;e.commit({type:"updateLocation",location:n})},loadUserById:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.userId,e.next=3,Pe.getById(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadUserOrDefaultUser:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe.getLoggedUser();case 2:n=e.sent,n?(t.commit({type:"setLoggedUser",user:n}),t.dispatch({type:"appLogin",root:!0}),t.dispatch({type:"loadFriendships"})):t.dispatch({type:"login",user:{username:"TabathaEwing",password:"tabathaewing"}});case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),appLogin:function(e){var t=e.getters,n=e.commit;Ir.emit("app login",{username:t.loggedInUser.username,userId:t.loggedInUser._id}),Ir.on("app newNotification",function(e){n({type:"addNotification",notification:e}),n({type:"setNewNotification",notification:e})})},readNotification:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.index,s=t.state.loggedUser,s.notifications[r].readStatus=!0,e.next=5,Pe.update(s);case 5:t.commit({type:"updateReadNotification",index:r});case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),clearNewNotification:function(e){var t=e.commit;t({type:"setNewNotification",notification:null})}}},ls={query:ds,getById:ys,update:ws,remove:js,getFriends:fs,getRequests:ms,sendRequest:Cs,approveRequest:Rs,getRequestsSent:vs};function ds(){return ps.apply(this,arguments)}function ps(){return ps=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),ps.apply(this,arguments)}function fs(){return hs.apply(this,arguments)}function hs(){return hs=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/friends/byuser/");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),hs.apply(this,arguments)}function ms(){return gs.apply(this,arguments)}function gs(){return gs=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/requests/byuser/");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),gs.apply(this,arguments)}function vs(){return bs.apply(this,arguments)}function bs(){return bs=Object(se["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/sent/byuser/");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),bs.apply(this,arguments)}function ys(e){return xs.apply(this,arguments)}function xs(){return xs=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),xs.apply(this,arguments)}function ws(e){return _s.apply(this,arguments)}function _s(){return _s=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/".concat(t._id),"put",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),_s.apply(this,arguments)}function js(e){return ks.apply(this,arguments)}function ks(){return ks=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/".concat(t),"delete");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),ks.apply(this,arguments)}function Cs(e){return Is.apply(this,arguments)}function Is(){return Is=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/","post",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),Is.apply(this,arguments)}function Rs(e){return Us.apply(this,arguments)}function Us(){return Us=Object(se["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.ajax("friend/request/".concat(t),"put");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),Us.apply(this,arguments)}var $s={strict:!0,state:{friendships:[],requests:[],requestsSent:[]},getters:{friendships:function(e){return e.friendships},requests:function(e){return e.requests},friendshipById:function(e){return function(t){return e.friendships.find(function(e){return e._id===t})}},isFriendById:function(e){return function(t){return e.friendships.find(function(e){return"approved"===e.status&&(e.sender.userId===t||e.recipient.userId===t)})}},isRequestedById:function(e){return function(t){return e.requests.find(function(e){return"pending"===e.status&&e.sender.userId===t})}},isRequesterById:function(e){return function(t){return e.requestsSent.find(function(e){return"pending"===e.status&&e.recipient.userId===t})}}},mutations:{setFriendships:function(e,t){var n=t.friendships;e.friendships=n},setRequests:function(e,t){var n=t.requests;e.requests=n},setRequestsSent:function(e,t){var n=t.requestsSent;e.requestsSent=n},updateFriendship:function(e,t){var n=t.updatedFriendship,r=e.friendships.findIndex(function(e){return e._id===n._id});e.friendship.splice(r,1,n)},removeFriendship:function(e,t){var n=t.friendshipId,r=e.friendships.findIndex(function(e){return e._id===n});e.friendships.splice(r,1)},convertRequestToFriendship:function(e,t){var n=t.newFriendship,r=e.requests.findIndex(function(e){return e._id===n._id});r&&e.requests.splice(r,1),e.friendships.unshift(n)},addRequest:function(e,t){var n=t.newRequest;e.requests.push(n)}},actions:{loadFriends:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ls.getFriends();case 2:return n=e.sent,t.commit({type:"setFriendships",friendships:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),loadRequests:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ls.getRequests();case 2:return n=e.sent,t.commit({type:"setRequests",requests:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),loadRequestsSent:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ls.getRequestsSent();case 2:return n=e.sent,t.commit({type:"setRequestsSent",requestsSent:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),loadFriendships:function(e){return e.dispatch({type:"loadFriends"}),e.dispatch({type:"loadRequests"}),e.dispatch({type:"loadRequestsSent"})},deleteFriend:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.friendId,e.next=3,ls.remove(r);case 3:return t.commit({type:"removeFriend",friendId:r}),e.abrupt("return",{});case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),updateFriendship:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.friendship,e.next=3,ls.update(r);case 3:return s=e.sent,t.commit({type:"updateFriendship",friend:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),sendRequest:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.request,e.next=3,ls.sendRequest(r);case 3:return s=e.sent,t.commit({type:"addRequest",newRequest:s}),Ir.emit("send notification",{type:"request",sender:r.sender,recipient:r.recipient,loggedUser:t.getters.loggedInUser._id}),t.dispatch({type:"loadFriendships"}),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),approveRequest:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.requestId,e.next=3,ls.approveRequest(r);case 3:return s=e.sent,t.commit({type:"convertRequestToFriendship",newFriendship:s}),Ir.emit("send notification",{type:"friendship",sender:s.sender,recipient:s.recipient,loggedUser:t.getters.loggedInUser._id}),t.dispatch({type:"loadFriendships"}),e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadFriendshipById:function(){var e=Object(se["a"])(regeneratorRuntime.mark(function e(t,n){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.friendshipId,e.next=3,ls.getById(r);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}};r["a"].use(cs["a"]);var Os=new cs["a"].Store({state:{},getters:{},modules:{UserStore:us,FriendStore:$s}});r["a"].filter("timeAgo",function(e){return mr()(e).fromNow()});n("b107");var qs=n("9483");Object(qs["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Ns=n("73e4"),Ss=n.n(Ns);r["a"].use(on,{load:{key:"AIzaSyAQz_Zc9Ys9pFeNAYxOhagonVUGOyg_zlg",libraries:"places"}}),r["a"].config.productionTip=!1,new r["a"]({router:os,store:Os,render:function(e){return e(ee)}}).$mount("#app"),r["a"].use(Ss.a,{timeout:4e3,progressBar:!0,layout:"bottomRight",theme:"relax"})},"579e":function(e,t,n){"use strict";var r=n("055c"),s=n.n(r);s.a},"5b22":function(e,t,n){"use strict";var r=n("92e4"),s=n.n(r);s.a},"5bd7":function(e,t,n){"use strict";var r=n("3171"),s=n.n(r);s.a},"5fd9":function(e,t,n){e.exports=n.p+"img/no use (2).710ca87c.jpg"},6905:function(e,t,n){"use strict";var r=n("038c"),s=n.n(r);s.a},"6c1f":function(e,t,n){e.exports=n.p+"img/3.7a432e85.jpg"},"747f":function(e,t,n){"use strict";var r=n("fdfe"),s=n.n(r);s.a},"79aae":function(e,t,n){e.exports=n.p+"img/4.e99f44de.jpg"},"7ce5":function(e,t,n){},"7e14":function(e,t,n){"use strict";var r=n("3517"),s=n.n(r);s.a},"88a7":function(e,t,n){},"8a3f":function(e,t,n){e.exports=n.p+"img/2.0449bff7.jpg"},"92e4":function(e,t,n){},"982a":function(e,t,n){},a160:function(e,t,n){},b055:function(e,t,n){e.exports=n.p+"img/no use (5).9655ecb3.jpg"},b107:function(e,t,n){},b36f:function(e,t,n){e.exports=n.p+"img/hj.14416977.jpg"},b3dff:function(e,t,n){"use strict";var r=n("d389"),s=n.n(r);s.a},b7f5:function(e,t,n){"use strict";var r=n("7ce5"),s=n.n(r);s.a},c5a9:function(e,t,n){e.exports=n.p+"img/no use (3).6288edbe.jpg"},cbf5:function(e,t,n){e.exports=n.p+"img/not use.f10ce89a.jpg"},d389:function(e,t,n){},ddff:function(e,t,n){},de21:function(e,t,n){},e901:function(e,t,n){var r={"./1.jpg":"3613","./2.jpg":"8a3f","./3.jpg":"6c1f","./4.jpg":"79aae","./hj.jpg":"b36f","./no use (2).jpg":"5fd9","./no use (3).jpg":"c5a9","./no use (5).jpg":"b055","./not use.jpg":"cbf5","./not.jpg":"26df"};function s(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id="e901"},fdfe:function(e,t,n){}});
//# sourceMappingURL=app.b9d162ee.js.map